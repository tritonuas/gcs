<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="refresh" />
	<link href="../css/global.css" rel="stylesheet" media="screen"/>
    <script type="module" src="../js/navbar.js"></script>
  </head>
  <body>
    <nav-bar></nav-bar>
    <h1>404: Page Not Found</h1> 
    <img id='face' style="perspective: 1000px; margin: auto; text-align: enter; display: block; transition: all 3s ease-in-out;" src="../images/smoge.gif">
    <img id="plance" src="../images/plane.gif" 
          width="16" height="16" 
          style="top: 80%; transform: none; animation-name: fly; 
                animation-duration: 20s; animation-timing-function: linear;
                animation-iteration-count: infinite; position: absolute;">
    <style>
        :root {
            overflow: hidden;
        }
        @keyframes fly {
            from {
                right: 0;
            }

            to {
                right: 100%;
            }
        }
    </style>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            let face = document.getElementById('face');
            let randomWalk = []
            for (let i = 0; i < 10; i++) {
                randomWalk.push({"dx": Math.random() * 600 - 300, "dy": Math.random() * 600 - 300});
            }
            let reverse = [...randomWalk].reverse();
            reverse = reverse.map(v => {return {"dx": -v.dx, "dy": -v.dy}});
            randomWalk.push(reverse);
            let index = 0;
            setInterval(() => {
                let dx = randomWalk[index].dx;
                let dy = randomWalk[index].dy;
                let dir = (dx < 0) ? 0:180;
                let angle = Math.atan(dy/dx)
                setTimeout(() => {
                    face.style.transform = 
                        `translateX(${dx}px) translateY(${dy}px) rotateZ(${angle}rad)`;
                    index = (index + 1) % randomWalk.length;
                }, 250);
            }, 3000);
        });
    </script>
  </body>
</html>